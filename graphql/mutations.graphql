mutation CreateProductReview($review: ReviewCreateInput!) {
  review: createReview(data: $review) {
    ...reviewContent
  }
}

mutation PublishProductReview($id: ID!) {
  publishReview(to: PUBLISHED, where: { id: $id }) {
    stage
    id
  }
}

mutation CreateOrderMutation($order: OrderCreateInput!) {
  order: createOrder(data: $order) {
    id
  }
}

mutation RemoveCartItem($id: ID!) {
  deleteCartItem(where: { id: $id }) {
    id
  }
}

mutation UpdateCart($count: Int!, $id: ID!) {
  updateCartItem(data: { count: $count }, where: { id: $id }) {
    id
    count
  }
  publishCartItem(where: { id: $id }, to: PUBLISHED) {
    stage
  }
}

mutation ClearCart($userUUID: String!) {
  deleteManyCartItemsConnection(where: { userUUID: $userUUID }) {
    aggregate {
      count
    }
  }
}

mutation addItemToCart($count: Int!, $id: ID!, $userUUID: String!) {
  createCartItem(
    data: {
      count: $count
      product: { connect: { id: $id } }
      userUUID: $userUUID
      userData: { connect: { userUUID: $userUUID } }
    }
  ) {
    count
  }
  publishManyCartItemsConnection(where: { userUUID: $userUUID }) {
    edges {
      node {
        userUUID
      }
    }
  }
}
mutation createUserData($userUUID: String!) {
  createUserData(data: { userUUID: $userUUID }) {
    userUUID
  }
  publishUserData(where: { userUUID: $userUUID }) {
    userUUID
  }
}
